"use strict";function createGregorianCalendar(){var gregorianWrapper=document.querySelector(".dpGregorianDivWrapper");createGregorianYearSelect(gregorianWrapper,"gregorianYearId"),createMonthSelect(gregorianWrapper,dpTimeContext.localized_month_list_,"gregorianMonthId"),createDaySelect(gregorianWrapper)}function createRegionalCalendar(){var regionalWrapper;0!==dpTimeContext.regional_epoch_&&(createRegionalYearSelect(regionalWrapper=document.querySelector(".dpRegionalDivWrapper"),"regionalYearId"),createMonthSelect(regionalWrapper,dpTimeContext.localized_regional_month_list_,"regionalMonthId"),createDaySelect(regionalWrapper))}function createGregorianYearSelect(parentDiv,divID){var startYear=dpTimeContext.year_begins_anchor_,endYear=dpTimeContext.year_ends_anchor_,selectDiv=document.createElement("div"),selectList=document.createElement("select");selectDiv.className="dpSelectBoxWrapper",selectList.className="dpSelectBox",selectList.id=divID,selectDiv.appendChild(selectList),parentDiv.insertBefore(selectDiv,parentDiv.childNodes[0]),populateYearSelect(startYear,endYear,selectList,0),selectList.onchange=function(){dpTimeContext.selected_year_=selectList.value,createDaySelect(parentDiv)}}function createRegionalYearSelect(parentDiv,divID){var startYear=dpTimeContext.year_begins_anchor_+dpTimeContext.regional_epoch_,endYear=dpTimeContext.year_ends_anchor_+dpTimeContext.regional_epoch_,selectDiv=document.createElement("div"),selectList=document.createElement("select");selectDiv.className="dpSelectBoxWrapper",selectList.className="dpSelectBox",selectList.id=divID,selectDiv.appendChild(selectList),parentDiv.insertBefore(selectDiv,parentDiv.childNodes[0]),populateYearSelect(startYear,endYear,selectList,dpTimeContext.regional_epoch_)}function populateYearSelect(startYear,endYear,selectList,offset){for(var idxYear=startYear;idxYear<=endYear;idxYear++){var option=document.createElement("option");option.value=idxYear,(option.text=idxYear)===dpTimeContext.running_year_+offset&&option.setAttribute("selected","selected"),selectList.appendChild(option)}}function createMonthSelect(parentDiv,monthList,divID){for(var selectDiv=document.createElement("div"),selectList=document.createElement("select"),totalMonths=(selectDiv.className="dpSelectBoxWrapper",selectList.className="dpSelectBox",selectList.id=divID,selectDiv.appendChild(selectList),parentDiv.insertBefore(selectDiv,parentDiv.childNodes[0]),monthList.length),idxMonth=0;idxMonth<totalMonths;idxMonth++){var option=document.createElement("option");option.value=idxMonth+1,option.text=monthList[idxMonth],selectList.appendChild(option),idxMonth===dpTimeContext.running_month_&&(option.selected=!0)}selectList.onchange=function(){dpTimeContext.selected_month_=selectList.value,createDaySelect(parentDiv)}}function createDaySelect(parentDiv){var dayDivID=null,totalDays=0,selectDiv=("regional-picker"===parentDiv.id?(totalDays=30,dayDivID="regionalDayId"):(dayDivID="gregorianDayId",totalDays=DpDtTiUtils.totalDaysInAMonth(dpTimeContext.selected_month_,dpTimeContext.selected_year_),dpTimeContext.selected_day_>totalDays&&(dpTimeContext.selected_day_=totalDays)),null),selectList=document.getElementById(dayDivID);null===selectList?((selectDiv=document.createElement("div")).className="dpSelectBoxWrapper",(selectList=document.createElement("select")).className="dpSelectBox",selectList.id=dayDivID,selectDiv.appendChild(selectList),parentDiv.insertBefore(selectDiv,parentDiv.childNodes[0])):selectList.innerHTML="";for(var dayIdx=0;dayIdx<totalDays;dayIdx++){var option=document.createElement("option");selectList.appendChild(option),option.value=+dayIdx+1,option.text=dpTimeContext.day_list_[dayIdx],dayIdx===dpTimeContext.selected_day_-1&&(option.selected=!0)}selectList.onchange=function(){dpTimeContext.selected_day_=selectList.value}}function showBaseCalendar(calendar){var regionalDiv=document.querySelector(".dpRegionalDivWrapper"),gregorianDiv=document.querySelector(".dpGregorianDivWrapper"),regionalOption=document.querySelector(".dpRegionalOption"),gregorianOption=document.querySelector(".dpGregorianOption");("regional"===calendar?(gregorianDiv.classList.remove("dpShowBlock"),regionalDiv):(regionalDiv.classList.remove("dpShowBlock"),gregorianDiv)).classList.add("dpShowBlock"),(regionalDiv.classList.contains("dpShowBlock")?(gregorianOption.classList.remove("dpActiveTab"),regionalOption):(regionalOption.classList.remove("dpActiveTab"),gregorianOption)).classList.add("dpActiveTab")}function pickDateOnButtonClick(){var dateString,selectedHour,selectedMinute,selectedSecond,yearElement=document.querySelector(".dpRegionalDivWrapper").classList.contains("dpShowBlock")?(dateString="?"+dpPgContext.url_datetime_query_key_+"=",dayElement=document.getElementById("regionalDayId"),monthElement=document.getElementById("regionalMonthId"),document.getElementById("regionalYearId")):(dateString="?date=",dayElement=document.getElementById("gregorianDayId"),monthElement=document.getElementById("gregorianMonthId"),document.getElementById("gregorianYearId")),dayElement=(dpTimeContext.selected_day_=dayElement.value,1===dpTimeContext.selected_day_.length&&(dpTimeContext.selected_day_="0"+dpTimeContext.selected_day_),dpTimeContext.selected_month_=monthElement.value,1===dpTimeContext.selected_month_.length&&(dpTimeContext.selected_month_="0"+dpTimeContext.selected_month_),dpTimeContext.selected_year_=yearElement.value,parseInt(dpTimeContext.selected_year_,10)),monthElement=(dpTimeContext.selected_year_=("0000"+dpTimeContext.selected_year_).slice(-4),dayElement<0&&(dpTimeContext.selected_year_="-"+dpTimeContext.selected_year_),!0===dpTimeContext.time_selection_&&(selectedHour=$("#dpSliderHour").mbgetVal(),selectedMinute=$("#dpSliderMinute").mbgetVal(),selectedSecond=$("#dpSliderSecond").mbgetVal(),1===selectedHour.toString().length&&(selectedHour="0"+selectedHour),1===selectedMinute.toString().length&&(selectedMinute="0"+selectedMinute),1===selectedSecond.toString().length)&&(selectedSecond="0"+selectedSecond),dpTimeContext.selected_day_+"/"+dpTimeContext.selected_month_+"/"+dpTimeContext.selected_year_);DpDtTiUtils.validatePanchangDatetime(monthElement,null)&&("function"==typeof DpActivityMuhurtaDates&&dpActivityMuhurtaDates.personalized_muhurta_context_?(dpActivityMuhurtaDates.personalized_muhurta_date_=monthElement,dpActivityMuhurtaDates.createSelectedAjaxDateObj(),dpPageActionbar.takeActionOnKundaliSelect(),dpSettingsToolbar.fixScreenScrollingForPopup($("#dpDateWrapperId"))):(yearElement=(null!=dpPgContext.page_core_url_?dpPgContext.page_core_url_:location.pathname)+dateString+monthElement,!0===dpTimeContext.time_selection_&&(yearElement=yearElement+"&time="+selectedHour+":"+selectedMinute+":"+selectedSecond),window.location=yearElement))}document.addEventListener("DOMContentLoaded",function(){var splitYearRange=dpTimeContext.supported_year_range_.split(":");dpTimeContext.year_begins_anchor_=dpTimeContext.running_year_+parseInt(splitYearRange[0],10),dpTimeContext.year_ends_anchor_=dpTimeContext.running_year_+parseInt(splitYearRange[1],10),createGregorianCalendar(),createRegionalCalendar(),0!==dpTimeContext.regional_epoch_&&showBaseCalendar()},!1);