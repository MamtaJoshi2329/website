"use strict";function checkIfDateTimeHasChanged(dateDDMMYYYY,timeHHMMSS){var dateDDMMYYYY=dateDDMMYYYY.split("/"),timeHHMMSS=timeHHMMSS.split(":"),day=parseInt(dateDDMMYYYY[0],10),month=parseInt(dateDDMMYYYY[1],10),dateDDMMYYYY=parseInt(dateDDMMYYYY[2],10),hour=parseInt(timeHHMMSS[0],10),minutes=parseInt(timeHHMMSS[1],10),timeHHMMSS=parseInt(timeHHMMSS[2],10),dateDDMMYYYY=new Date(dateDDMMYYYY,month-1,day,hour,minutes,timeHHMMSS);return dpTimeContext.page_js_date_.getTime()!==dateDDMMYYYY.getTime()}document.addEventListener("DOMContentLoaded",function(){var dateTimePicker=$("#dp-date-time-picker"),dpCurrentDateTime=(dateTimePicker.attr("maxlength","20"),dpInputHandler.insertSlashOnDateInput(dateTimePicker,!0),dateTimePicker.keypress(function(e){String.fromCharCode(e.which).match(/[^0-9- /:]/)&&e.preventDefault()}),new Date);dateTimePicker.datetimepicker({changeMonth:!0,changeYear:!0,showButtonPanel:!0,yearRange:dpTimeContext.supported_year_range_,dateFormat:"dd/mm/yy",defaultDate:dpTimeContext.page_js_date_,minDate:dpTimeContext.supported_min_js_date_,maxDate:dpTimeContext.supported_max_js_date_,timeInput:!0,showSecond:!0,timeFormat:"HH:mm:ss",showTimezone:!1,hour:dpCurrentDateTime.getHours(),minute:dpCurrentDateTime.getMinutes(),second:dpCurrentDateTime.getSeconds(),beforeShow:function(input,inst){setTimeout(function(){inst.dpDiv.css({top:dateTimePicker.offset().top+35,left:dateTimePicker.offset().left})},0)},onChangeMonthYear:function(year,month,inst){var selectedDay=$(this).datepicker("getDate").getDate(),ddmmyyyyDate=selectedDay+"/"+month+"/"+year,selectedHours=dpCurrentDateTime.getHours(),selectedMinutes=dpCurrentDateTime.getMinutes(),selectedSeconds=dpCurrentDateTime.getSeconds(),ddmmyyyyDate=DpDtTiUtils.getFormattedDatetime(ddmmyyyyDate,selectedHours+":"+selectedMinutes+":"+selectedSeconds),ddmmyyyyDate=ddmmyyyyDate[0]+" "+ddmmyyyyDate[1];dateTimePicker.val(ddmmyyyyDate),dateTimePicker.datepicker("setDate",new Date(year,month-1,selectedDay,selectedHours,selectedMinutes,selectedSeconds))},onClose:function(datetimeText,inst){var datePart,timePart;""!==(datetimeText=datetimeText.trim())&&(datePart=(datetimeText=datetimeText.split(" "))[0],timePart=datetimeText[1],void 0===datetimeText[1]&&(timePart=dpCurrentDateTime.getHours()+":"+dpCurrentDateTime.getMinutes()+":"+dpCurrentDateTime.getSeconds()),DpDtTiUtils.validatePanchangDatetime(datePart,timePart))&&checkIfDateTimeHasChanged(datePart,timePart)&&(datePart=(datetimeText=DpDtTiUtils.getFormattedDatetime(datePart,timePart))[0],timePart=datetimeText[1],top.location=location.pathname+"?date="+datePart+"&time="+timePart)}})},!1);