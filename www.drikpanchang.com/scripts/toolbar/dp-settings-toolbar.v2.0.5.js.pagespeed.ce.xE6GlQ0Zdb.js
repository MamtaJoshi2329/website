"use strict";var dpDialogHeightTopMargin=0,dpToolbarPreviousPosition=0,dpHorizontalToolbarWidth=0,kCanvasContainer="dp-canvas-container";document.addEventListener("DOMContentLoaded",function(){dpSettingsToolbar.initializeDraggableToolbarCanvas(),$("#dp-date-widget-toggle-button").on("click",dpSettingsToolbar.handleDayPickerWidgetButtonClick),$(document).on("click","#dp-toolbar-collapsable-button",dpSettingsToolbar.handleToolbarToggleButtonClick.bind(dpSettingsToolbar)),$(document).on("click","#dp-toolbar-close-button",dpSettingsToolbar.handleToolbarCloseButtonClick),$(document).on("click","#dp-toolbar-rotate-button",dpSettingsToolbar.handleToolbarRotateButtonClick),$(document).on("click",".dpKundaliToolbarCollapsableButton",dpSettingsToolbar.handleLeftEdgedKundaliToolbarStateChange)}),document.addEventListener("DOMContentLoaded",function(){var dpResultContent=$("#dp-result-content");dpResultContent.on("click",".dpPlanetaryPositionButton",function(){dpDialogHeightTopMargin=0;$(".dpPlanetaryPositionButton").prop("disabled",!0).addClass("dpDisabledButton");var planetTableElement=document.getElementById("dp-planetary-position-table-id"),planetTableElement=dpSettingsToolbar.createDialogPopup(planetTableElement.innerHTML,500,900,20,"dp-planetary-position-table-float-id"),dialogHeaderTitle=(planetTableElement.bind("dialogclose",function(event,ui){dpSettingsToolbar.customizeDialogBind(event),$(".dpPlanetaryPositionButton").prop("disabled",!1).removeClass("dpDisabledButton")}),planetTableElement.find(".dpPlanetaryPositionSection").attr("data-title"));planetTableElement.dialog("option","title",dialogHeaderTitle)}),dpResultContent.on("click",".dpUpagrahaPositionButton",function(){dpDialogHeightTopMargin=0;$(".dpUpagrahaPositionButton").prop("disabled",!0).addClass("dpDisabledButton");var planetTableElement=document.getElementById("dp-upagraha-position-table-id"),planetTableElement=dpSettingsToolbar.createDialogPopup(planetTableElement.innerHTML,500,750,20,"dp-upagraha-position-table-float-id"),dialogHeaderTitle=(planetTableElement.bind("dialogclose",function(event,ui){dpSettingsToolbar.customizeDialogBind(event),$(".dpUpagrahaPositionButton").prop("disabled",!1).removeClass("dpDisabledButton")}),planetTableElement.find(".dpUpagrahaPositionSection").attr("data-title"));planetTableElement.dialog("option","title",dialogHeaderTitle)})}),document.addEventListener("DOMContentLoaded",function(){window.createFlatList=function(){$(".dpMonthGrid").removeClass("dpFlex"),$(".dpMonthGridRow").removeClass("dpFlex").removeClass("dpFlexEqual"),$(".dpMonthGridCell").removeClass("dpFlexEqual").addClass("dpListCell"),$(".dpGridWeekday").addClass("dpHiddenElement"),$(".dpVGridWeekdayCell").addClass("dpHiddenElement"),$(".dpInert").addClass("dpHiddenElement")},$(".dpMonthGrid")&&"flat"===dpCookiesMngr.getCookie("drik-grid-view")&&createFlatList(),$("#dpDateButtonId, #dpDateCloseId").on("click",function(){dpSettingsToolbar.fixScreenScrollingForPopup($("#dpDateWrapperId"))}),$("#dpDateWrapperId").on("click",function(e){e.target===this&&dpSettingsToolbar.fixScreenScrollingForPopup($("#dpDateWrapperId"))}),$("#dpChangeLocationId, #dpLocationCloseId").on("click",function(e){dpSettingsToolbar.fixScreenScrollingForPopup($("#dpLocationWrapperId")),$("#dp-city-search").focus()}),$("#dpLocationWrapperId").on("click",function(e){e.target===this&&dpSettingsToolbar.fixScreenScrollingForPopup($("#dpLocationWrapperId"))})});class DpSettingsToolbar{constructor(){this.cookies_mngr_=dpCookiesMngr}handleToolbarToggleButtonClick(){var toolbarCanvas=$("#dp-toolbar-canvas"),toolbarCanvasWrapper=$(".dpToolbarCanvasWrapper"),toolbarToggleButton=$("#dp-toolbar-collapsable-button");if(!toolbarToggleButton.parent().hasClass("dpPopupToolbar")){let disabledValue,toolbarStateValue;toolbarStateValue=toolbarCanvas.is(":hidden")?(disabledValue=!1,"open"):(disabledValue=!0,"closed"),toolbarCanvas.slideToggle(150),toolbarToggleButton.toggleClass("dpToolbarUpIcon"),dpCookiesMngr.setCookie("drik-toolbar-state",toolbarStateValue,365),dpEssential.mobile_device_flag_||(disabledValue||void 0!==toolbarCanvasWrapper.draggable("instance")||this.initializeDraggableToolbarCanvas(),void 0!==toolbarCanvasWrapper.draggable("instance")&&toolbarCanvasWrapper.draggable("option","disabled",disabledValue))}}handleToolbarCloseButtonClick(){var toolbarCanvas=$("#dp-toolbar-canvas"),toolbarCanvasWrapper=$(".dpToolbarCanvasWrapper");toolbarCanvasWrapper.removeClass("dpPopupToolbar").removeAttr("style"),toolbarCanvasWrapper.hasClass("dpKundaliToolbarCanvasWrapper")&&(toolbarCanvas.addClass("dpToolbarCanvas"),toolbarCanvasWrapper.removeClass("dpKundaliToolbarCanvasWrapper")),dpToolbarPreviousPosition=0}handleToolbarRotateButtonClick(){var toolbarCanvas=$("#dp-toolbar-canvas"),toolbarCanvasWrapper=$(".dpToolbarCanvasWrapper"),topOffset=toolbarCanvasWrapper.offset().top,leftOffset=toolbarCanvasWrapper.offset().left,topOffset=topOffset-$(document).scrollTop(),finalLeftOffset=leftOffset-$(document).scrollLeft(),rightOffset=finalLeftOffset+toolbarCanvasWrapper.outerWidth();toolbarCanvasWrapper.css({position:"fixed",left:finalLeftOffset,top:topOffset});toolbarCanvasWrapper.hasClass("dpKundaliToolbarCanvasWrapper")?(finalLeftOffset=(finalLeftOffset=leftOffset+129-dpHorizontalToolbarWidth)<0?0:finalLeftOffset,toolbarCanvas.addClass("dpToolbarCanvas"),toolbarCanvasWrapper.removeClass("dpKundaliToolbarCanvasWrapper"),toolbarCanvasWrapper.css({left:finalLeftOffset})):(topOffset=rightOffset-129,toolbarCanvas.removeClass("dpToolbarCanvas"),toolbarCanvasWrapper.addClass("dpKundaliToolbarCanvasWrapper"),toolbarCanvasWrapper.css({left:topOffset}))}initializeDraggableToolbarCanvas(){let toolbarCanvas=$("#dp-toolbar-canvas");if(!dpEssential.mobile_device_flag_&&!toolbarCanvas.is(":hidden")){let toolbarStartPosition=0;var toolbarToggleButton=$(".dpToolbarCollapsableButton");let toolbarCanvasWrapper=$(".dpToolbarCanvasWrapper");toolbarCanvasWrapper.draggable({containment:"document",handle:toolbarToggleButton,scroll:!1,start:function(event,ui){toolbarCanvasWrapper.addClass("dpPopupToolbar");var toolbarElementWidth=toolbarCanvasWrapper.width();toolbarStartPosition=event.clientX-toolbarElementWidth,toolbarCanvasWrapper.css({left:toolbarStartPosition+" !important;"}),ui.position.left=toolbarStartPosition,ui.position.top=event.clientY,0===dpHorizontalToolbarWidth&&(dpHorizontalToolbarWidth=toolbarCanvas.width())},drag:function(event,ui){var toolbarElementWidth,pageWrapperElementWidth;0===dpToolbarPreviousPosition&&(toolbarElementWidth=toolbarCanvasWrapper.width(),pageWrapperElementWidth=$(".dpPageWrapper").width(),pageWrapperElementWidth=$(window).width()-pageWrapperElementWidth-60,toolbarStartPosition=event.clientX-pageWrapperElementWidth-toolbarElementWidth,ui.position.left=toolbarStartPosition);ui.offset.top<64&&(ui.position.top=ui.position.top+64-ui.offset.top)},stop:function(event,ui){dpToolbarPreviousPosition=event.clientX}})}}handleLeftEdgedKundaliToolbarStateChange(){var updatedToggleIcon="❰"===$(this).text()?"❱":"❰";$(this).text(updatedToggleIcon),$(".dpKundaliToolbarCanvasWrapper").toggleClass("dpExpandedToolbar"),$(".dpKundaliSectionWrapper").toggleClass("dpExpandedWrapper")}handlePanchangSchoolOptionClick(school,reloadFlag){dpCookiesMngr.setCookie("drik-school-name",school,365),reloadFlag?location=this.getUpdatedPageURLAsPerSchool(school):(DpDialog.showAlertMessage(dpSuccessMessage,DpImg.kImgCheckMarkIcon),setTimeout(function(){$(".dpPopup").slideUp(200)},2e3))}getUpdatedPageURLAsPerSchool(school){let updatedURL=location.pathname;var vars=location.search.substring(1).split("&");let index;for(index=0;index<vars.length;index++){var regionalYear,lunarDate,pair=vars[index].split("="),queryKey=decodeURIComponent(pair[0]);"lunar-date"===queryKey?(lunarDate=decodeURIComponent(pair[1]),updatedURL=location.pathname,/^\d{1,2}\/\d{1,2}\/[-]?\d{1,4}/.test(lunarDate)&&(lunarDate=lunarDate.split("/"),regionalYear=parseInt(lunarDate[2],10),regionalYear=this.getUpdatedLunarYearAsPerSchool(regionalYear,school),lunarDate[2]=DpDtTiUtils.getPaddedFormattedYear(regionalYear),regionalYear=lunarDate.join("/"),updatedURL+="?lunar-date="+regionalYear)):"lunar-year"===queryKey?(lunarDate=decodeURIComponent(pair[1]),regionalYear=parseInt(lunarDate,10),lunarDate=(regionalYear=this.getUpdatedLunarYearAsPerSchool(regionalYear,school)).toString(),lunarDate=DpDtTiUtils.getPaddedFormattedYear(lunarDate),updatedURL=location.pathname+"?lunar-year="+lunarDate):"date"!==queryKey&&"year"!==queryKey||(updatedURL=location.href)}return updatedURL}getUpdatedLunarYearAsPerSchool(year,school){return"purnimanta"===school?year+135:year-135}handlePanchangArithmeticOptionClick(arithmetic,reloadFlag){dpCookiesMngr.setCookie("drik-arithmetic",arithmetic,365),this.takeActionAfterSavingCookie(reloadFlag)}handleTimeFormatClick(timeFormat,reloadFlag){dpCookiesMngr.setCookie("drik-time-format",timeFormat,365),this.takeActionAfterSavingCookie(reloadFlag)}handleBitmapFilterUpdation(reloadFlag){var savedBinaryCookie=dpCookiesMngr.getCookie("drik-command-bitmap"),savedBinaryCookie=this.getUpdatedBitmapBinaryValue(dpBitmapDatamap,savedBinaryCookie);dpCookiesMngr.setCookie("drik-command-bitmap",savedBinaryCookie,365),reloadFlag&&(location=location.href)}handleFCMTopicBitmapFilterUpdation(thisRef,bitmapDatamap){var savedBinaryCookie=dpCookiesMngr.getCookie("drik-fcm-topic-bitmap"),bitmapDatamap=this.getUpdatedBitmapBinaryValue(bitmapDatamap,savedBinaryCookie);dpCookiesMngr.setCookie("drik-fcm-topic-bitmap",bitmapDatamap,365),DpDialog.showAlertMessage(dpSuccessMessage,DpImg.kImgCheckMarkIcon),setTimeout(function(){$(".dpPopup").slideUp(200),handleNotificationPermissionTopicOptionClick(thisRef)},2e3)}getUpdatedBitmapBinaryValue(bitmapDatamap,savedBitmapBinaryValue){let updatedBigIntValCookie=BigInt("0b"+savedBitmapBinaryValue);for(var bitmapNode in bitmapDatamap){var nodeKey=bitmapDatamap[bitmapNode][0],bitmapNode=bitmapDatamap[bitmapNode][1]-1,bitmapNode=BigInt(BigInt(1)<<BigInt(bitmapNode)),bitmapNode=BigInt.asUintN(64,bitmapNode),nodeKey=document.getElementById(nodeKey);null!==nodeKey&&!0===nodeKey.checked?updatedBigIntValCookie|=bitmapNode:updatedBigIntValCookie&=~bitmapNode}return updatedBigIntValCookie.toString(2)}handleNotificationRashiOptionClick(rashi,reloadFlag){dpCookiesMngr.setCookie("drik-fcm-notification-rashi",rashi,365),this.takeActionAfterSavingCookie(reloadFlag)}handleBaseCalendarOptionClick(cookieName,baseCalendar){dpCookiesMngr.setCookie(cookieName,baseCalendar,365),location=location.href}handleSunriseOptionClick(sunriseType,reloadFlag){dpCookiesMngr.setCookie("drik-sunrise-type",sunriseType,365),this.takeActionAfterSavingCookie(reloadFlag)}handleGeoElevationOptionClick(geoElevation,reloadFlag){dpCookiesMngr.setCookie("drik-geo-elevation-status",geoElevation,365),this.takeActionAfterSavingCookie(reloadFlag)}handleTimePrecisionOptionClick(cookieValue){dpCookiesMngr.setCookie("drik-time-precision",cookieValue,365),location=location.href}handlePanchangClockOptionClick(clock,reloadFlag){dpCookiesMngr.setCookie("drik-clock",clock,365),this.takeActionAfterSavingCookie(reloadFlag)}handleChartTypeOptionClick(type){dpCookiesMngr.setCookie("drik-kundali-chart-style",type,365),location=location.href}handlePanchangamCanvasChartClick(){var canvasContainer=$(".dpCanvasContainer"),chartVisibilityStatusValue=canvasContainer.is(":hidden")?"visible":"invisible",canvasContainer=(canvasContainer.slideToggle(400,function(){drikp_g_PanchangamChart.drikp_g_drawPanchangamCanvasChart()}),"invisible"==chartVisibilityStatusValue?dpCanvasChartShowString:dpCanvasChartHideString);$("#dp-chart-toolbar-item-label-id").html(canvasContainer);try{localStorage.setItem(kCanvasContainer,chartVisibilityStatusValue)}catch(e){console.log(e)}}handlePlanetPositionOptionClick(position){dpCookiesMngr.setCookie("drik-graha-position",position,365),location=location.href}handleKundaliRahuTypeOptionClick(rahuType){dpCookiesMngr.setCookie("drik-kundali-rahu-type",rahuType,365),location=location.href}handleKundaliRahuTypeAJAXOptionClick(rahuType){dpCookiesMngr.setCookie("drik-kundali-rahu-type",rahuType,365),dpPageForm.validateKundaliForm();rahuType=dpPageToolbar.getKundaliDivisionPayload(),rahuType=JSON.stringify({dp_payload:rahuType});dpKundaliPost.postAjaxDataPayload("dp-result-content",rahuType)}handlePlanetaryAspectsFilterClick(){var toolbarPlanetaryAspectsLabel=$(".dpToolbarPlanetaryAspectsLabel");toolbarPlanetaryAspectsLabel.hasClass("dpAllAspects")?(dpAllAspectsFlag=!0,toolbarPlanetaryAspectsLabel.html(dpPlanetaryShowLimitedAspectsLabel),toolbarPlanetaryAspectsLabel.removeClass("dpAllAspects")):(dpAllAspectsFlag=!1,toolbarPlanetaryAspectsLabel.html(dpPlanetaryShowAllAspectsLabel),toolbarPlanetaryAspectsLabel.addClass("dpAllAspects")),drawPlanetaryEphemerisTable(),setInterval(function(){$(".dpPopup").slideUp(100)},5e3)}createDialogPopup(resultHTML,height,width,heightOffset,dialogId){var windowWidth=$(window).width(),windowHeight=$(window).height(),windowWidth=dpEssential.mobile_device_flag_?windowWidth-10:width,width=dpEssential.mobile_device_flag_?windowHeight-heightOffset:height,windowHeight=$("<div></div>");dialogId&&windowHeight.attr("id",dialogId);let self=this;return windowHeight.html(resultHTML).dialog({open:function(event,ui){$(this).parent().trigger("focus")},draggable:!0,height:width,width:windowWidth,position:{my:"top",at:"top+"+dpDialogHeightTopMargin}}).dialogExtend({closable:!0,maximizable:!1,minimizable:!0,collapsable:!1,dblclick:"collapse",minimizeLocation:"left",icons:{maximize:"ui-icon-circle-plus",collapse:"ui-icon-triangle-1-s"},load:function(evt,dlg){},beforeCollapse:function(evt,dlg){},beforeMaximize:function(evt,dlg){},beforeMinimize:function(evt,dlg){},beforeRestore:function(evt,dlg){},collapse:function(evt,dlg){},maximize:function(evt,dlg){},minimize:function(evt,dlg){self.styleDialogOnMinimize(evt)},restore:function(evt,dlg){self.styleDialogOnRestore(evt)}}),this.resizeDialogPopupOnOrientationChange(windowHeight),windowHeight}customizeDialogBind(event){event=event.target.id;$("[aria-describedby="+event+"]").remove(),$("#"+event).remove()}styleDialogOnMinimize(event){event=$("[aria-describedby="+event.target.id+"]");event.find(".ui-dialog-title").css({"font-size":"1.3rem",width:"80%"}),event.find(".ui-dialog-titlebar").css({"text-align":"left"})}styleDialogOnRestore(event){event=$("[aria-describedby="+event.target.id+"]");event.find(".ui-dialog-title").css({"font-size":"1.5rem",width:"100%"}),event.find(".ui-dialog-titlebar").css({"text-align":"center"})}resizeDialogPopupOnOrientationChange(dialogElement){dpEssential.mobile_device_flag_&&$(window).on("resize",function(){var maxWidth=$(window).width()-20,maxHeight=$(window).height()-20;dialogElement.dialog("instance")&&(dialogElement.dialog("option","width",maxWidth),dialogElement.dialog("option","height",maxHeight))})}handlePopOutChartOptionClick(){dpDialogHeightTopMargin=0;var dialogPopupId="dp-kundali-"+this.getAnchorGrahaForChartPopout()+"-"+this.getKundaliDivisionForChartPopout();if(0===$("[aria-describedby="+dialogPopupId+"]").length){let resultHTML=this.getPoppedOutDivisionWindowHTML();var dialogResultTitle=$("#dp-result-content .dpChartTitle").attr("data-title"),poppedOutChartCanvasId=DpKundaliCanvasID.kPoppedOut+Date.now(),dialogElement=(resultHTML=resultHTML.replace(DpKundaliCanvasID.kPrimary,poppedOutChartCanvasId),this.createDialogPopup(resultHTML,580,810,20,dialogPopupId));dpPageToolbar.initializeTabsHolder("#"+dialogPopupId+" #dp-division-table-tabs"),dialogElement.dialog("option","title",dialogResultTitle);let self=this;dialogElement.bind("dialogclose",function(event,ui){self.customizeDialogBind(event)}),dpKundaliChart.duplicate(poppedOutChartCanvasId,DpKundaliCanvasID.kPrimary),dpKundaliChart.drawKundaliChartOnCanvas(poppedOutChartCanvasId)}}getAnchorGrahaForChartPopout(){let kundaliAnchorGraha="lagna";var anchorGrahaSelectedValue;return"undefined"!=typeof dpCustomGrahaSelector&&!0===dpCustomGrahaSelector?kundaliAnchorGraha=$(".dpGrahaSelectorButton").find(".dpSelectedItem").val():void 0!==(anchorGrahaSelectedValue=$("#dp-kundali-graha-selector").val())&&""!==anchorGrahaSelectedValue&&(kundaliAnchorGraha=anchorGrahaSelectedValue),kundaliAnchorGraha}getKundaliDivisionForChartPopout(){var kundaliDivisionSelectedValue=$("#dp-kundali-division-selector").val();return void 0!==kundaliDivisionSelectedValue?kundaliDivisionSelectedValue:"d1"}getPoppedOutDivisionWindowHTML(){let divisionPopupHTML="";return divisionPopupHTML="function"==typeof DpKundaliLayoutBuilder&&dpPageForm.layout_builder_.yugma_kundali_ui_status_flag_?(divisionPopupHTML+=$("#dp-result-content .dpResultPrimaryChartDivSection").html())+$("#dp-result-content .dpResultPrimaryTableDivSection").html():$("#dp-result-content .dpResultDivSection").html()}handlePlanetShowHideOptionClick(planetStatus){dpCookiesMngr.setCookie("drik-modern-graha-status",planetStatus,365),location=location.href}handleScreenScopeOptionClick(screenScope){dpCookiesMngr.setCookie("drik-screen-scope",screenScope,365),location=location.href}handleNakshatraTypeOptionClick(nakshatraType){dpCookiesMngr.setCookie("drik-nakshatra-type",nakshatraType,365),location=location.href}handleChartRashiTagsVisibilityBoxClick(chartRashiTagsStatus){dpCookiesMngr.setCookie("drik-chart-rashi-tags-status",chartRashiTagsStatus,365),location=location.href}handlePlanetShowHideAJAXOptionClick(planetStatus){dpCookiesMngr.setCookie("drik-modern-graha-status",planetStatus,365),dpPageForm.validateKundaliForm();planetStatus=dpPageToolbar.getKundaliDivisionPayload(!0,!0),planetStatus=JSON.stringify({dp_payload:planetStatus});dpKundaliPost.postAjaxDataPayload("dp-result-content",planetStatus)}handleChartRashiTagsVisibilityAJAXBoxClick(chartRashiTagsStatus){dpCookiesMngr.setCookie("drik-chart-rashi-tags-status",chartRashiTagsStatus,365),dpPageForm.validateKundaliForm();chartRashiTagsStatus=dpPageToolbar.getKundaliDivisionPayload(!0,!1),chartRashiTagsStatus=JSON.stringify({dp_payload:chartRashiTagsStatus});dpKundaliPost.postAjaxDataPayload("dp-result-content",chartRashiTagsStatus)}handleLongitudeStyleOptionClick(longitudeType){dpCookiesMngr.setCookie("drik-longitude-style",longitudeType,365),location=location.href}handleLongitudeStyleAJAXOptionClick(longitudeType){$(".dpOverlay").fadeOut(200),$(".dpOptionDialogueContent").fadeOut(300),$("body").removeClass("dpFixedOnScroll"),dpCookiesMngr.setCookie("drik-longitude-style",longitudeType,365),dpPageForm.validateKundaliForm();longitudeType=dpPageToolbar.getKundaliDivisionPayload(!1,!0),longitudeType=JSON.stringify({dp_payload:longitudeType});dpKundaliPost.postAjaxDataPayload("dp-result-content",longitudeType)}handleAyanamshaTypeOptionClick(ayanamsha,reloadFlag){dpCookiesMngr.setCookie("drik-ayanamsha-type",ayanamsha,365),this.takeActionAfterSavingCookie(reloadFlag)}handleAyanamshaTypeAJAXOptionClick(ayanamsha){$(".dpOverlay").fadeOut(200),$(".dpCalendarTypeContent").fadeOut(300),$("body").removeClass("dpFixedOnScroll");$("#dp-ayanamsha").val(ayanamsha),dpPageForm.kundali_.setAyanamsha=ayanamsha,dpCookiesMngr.setCookie("drik-ayanamsha-type",ayanamsha,365),dpPageForm.validateKundaliForm();ayanamsha=dpPageToolbar.getKundaliDivisionPayload(),ayanamsha=JSON.stringify({dp_payload:ayanamsha});dpKundaliPost.postAjaxDataPayload("dp-result-content",ayanamsha)}handleKundaliStringTypeOptionClick(kundaliStringType){dpCookiesMngr.setCookie("drik-kundali-string-type",kundaliStringType,365),location=location.href}handleKundaliStringTypeAJAXOptionClick(kundaliStringType){dpCookiesMngr.setCookie("drik-kundali-string-type",kundaliStringType,365),dpPageForm.validateKundaliForm();kundaliStringType=dpPageToolbar.getKundaliDivisionPayload(!0,!0),kundaliStringType=JSON.stringify({dp_payload:kundaliStringType});dpKundaliPost.postAjaxDataPayload("dp-result-content",kundaliStringType)}handleDayPickerWidgetButtonClick(){var dateWidgetWrapper=$(".dpDateWidgetWrapper"),dayWidgetStateValue=dateWidgetWrapper.is(":hidden")?"open":"closed";dateWidgetWrapper.slideToggle(200),$("#dp-date-widget-toggle-button").toggleClass("dpWidgetUpIcon"),dpCookiesMngr.setCookie("drik-day-widget-state",dayWidgetStateValue,365)}handleReloadGridviewOptionClick(view){dpCookiesMngr.setCookie("drik-grid-view",view,365),location=location.href}handlePanchangViewTypeOptionClick(view){dpCookiesMngr.setCookie("drik-panchang-view-type",view,365),location=location.href}handleIASTOptionClick(iastStatus){dpCookiesMngr.setCookie("drik-iast-translation-flag",iastStatus,365),location=location.href}handleGeoElevationStatus(elevationStatus){dpCookiesMngr.setCookie("drik-geo-elevation-status",elevationStatus,365),location=location.href}handleGridViewOptionClick(view){dpCookiesMngr.getCookie("drik-grid-view")!==view&&("flat"===view?createFlatList():"horizontal"===view?this.createHorizontalGrid():this.createVerticalGrid(),dpCookiesMngr.setCookie("drik-grid-view",view,365))}createHorizontalGrid(){$(".dpMonthGrid").removeClass("dpFlex"),$(".dpMonthGridRow").addClass("dpFlex").removeClass("dpFlexEqual"),$(".dpMonthGridCell").addClass("dpFlexEqual").removeClass("dpListCell"),$(".dpGridWeekday").removeClass("dpHiddenElement").removeClass("dpFlexColumn"),$(".dpVGridWeekdayCell").removeClass("dpHiddenElement").addClass("dpGridWeekdayCell"),$(".dpGridWeekdayCell").removeClass("dpVGridWeekdayCell"),$(".dpWeekdayCellTitle").hide(),$(".mdpWeekdayCellTitle").show(),$(".dpInert").removeClass("dpHiddenElement")}createVerticalGrid(){$(".dpMonthGrid").addClass("dpFlex"),$(".dpMonthGridRow").removeClass("dpFlex").addClass("dpFlexEqual"),$(".dpMonthGridCell").removeClass("dpFlexEqual").removeClass("dpListCell"),$(".dpGridWeekday").removeClass("dpHiddenElement").addClass("dpFlexColumn"),$(".dpGridWeekdayCell").addClass("dpFlexEqual").addClass("dpVGridWeekdayCell"),$(".dpVGridWeekdayCell").removeClass("dpHiddenElement").removeClass("dpGridWeekdayCell"),$(".dpWeekdayCellTitle").hide(),$(".dpInert").removeClass("dpHiddenElement")}fixScreenScrollingForPopup(element){var bodyTag=$("body");bodyTag.toggleClass("dpFixBody"),$("html").toggleClass("dpFixBody"),element.slideToggle(400),bodyTag.hasClass("dpFixBody")||(element=window.pageYOffset||document.scrollTop,window.scrollBy(0,element-47))}handleThemeOptionClick(theme){var context;"complete"===document.readyState&&(dpCookiesMngr.setCookie("drik-website-theme",theme,365),null!==dpPageForm&&dpPageForm.isKundaliForm()&&(theme=parseInt(dpPageForm.kundali_.getID,10),context=dpPageForm.kundali_.getContext,DpKundaliContext.kKundali===context)&&(-1<theme||-100===theme)?dpPageForm.handler_.reloadKundaliPageWithExistingData(DpPg.kKundaliOpen):location=location.href.split("#")[0])}handlePageReloadOnLanguageOptionClick(langCode){if("complete"===document.readyState){let pageURL=location.pathname+"?";var urlSearchParams=new URLSearchParams(window.location.search),urlSearchParams=Object.fromEntries(urlSearchParams.entries());0!==Object.keys(urlSearchParams).length&&(pageURL=(pageURL+=urlSearchParams.date?"date="+urlSearchParams.date+"&":"")+(urlSearchParams.time?"time="+urlSearchParams.time+"&":"")),pageURL+="lang="+langCode,null!==dpPageForm&&dpPageForm.isKundaliForm()&&(-1<(urlSearchParams=parseInt(dpPageForm.kundali_.getID,10))||-100===urlSearchParams)?dpPageForm.handler_.reloadKundaliPageWithExistingData(pageURL):location=pageURL}}handleLyricsLanguageChange(thisRef,lyricsLanguage,lyricsContext){dpCookiesMngr.setCookie("drik-lyrics-language",lyricsLanguage,365),dpLyrics.handleLyricsChangeOnButtonClick(thisRef,lyricsContext)}handleNumeralLocaleOptionClick(numeralType,reloadFlag){dpCookiesMngr.setCookie("drik-numeral-locale",numeralType,365),this.takeActionAfterSavingCookie(reloadFlag)}takeActionAfterSavingCookie(reloadFlag){reloadFlag?location=location.href:(DpDialog.showAlertMessage(dpSuccessMessage,DpImg.kImgCheckMarkIcon),setTimeout(function(){$(".dpPopup").slideUp(200)},2e3))}}