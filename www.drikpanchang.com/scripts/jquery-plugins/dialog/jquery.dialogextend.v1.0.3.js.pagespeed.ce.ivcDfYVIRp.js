"use strict";!function(){var $=jQuery;$.widget("ui.dialogExtend",{version:"1.0.0",modes:{},options:{closable:!0,dblclick:!1,titlebar:!1,icons:{close:"ui-icon-closethick",restore:"ui-icon-newwin"},load:null,beforeRestore:null,restore:null},_create:function(){return this._state="normal",$(this.element[0]).data("ui-dialog")||$.error("jQuery.dialogExtend Error : Only jQuery UI Dialog element is accepted"),this._verifyOptions(),this._initStyles(),this._initButtons(),this._initTitleBar(),this._setState("normal"),this._on("load",function(e){return console.log("test",e)}),this._trigger("load")},_setState:function(state){return $(this.element[0]).removeClass("ui-dialog-"+this._state).addClass("ui-dialog-"+state),this._state=state},_verifyOptions:function(){var name,_ref,_results;for(name in!this.options.dblclick||this.options.dblclick in this.modes||($.error("jQuery.dialogExtend Error : Invalid <dblclick> value '"+this.options.dblclick+"'"),this.options.dblclick=!1),this.options.titlebar&&"none"!==(_ref=this.options.titlebar)&&"transparent"!==_ref&&($.error("jQuery.dialogExtend Error : Invalid <titlebar> value '"+this.options.titlebar+"'"),this.options.titlebar=!1),_results=[],this.modes)this["_verifyOptions_"+name]?_results.push(this["_verifyOptions_"+name]()):_results.push(void 0);return _results},_initStyles:function(){var name,_results;for(name in $(".dialog-extend-css").length||$('<style class="dialog-extend-css" type="text/css">.ui-dialog .ui-dialog-titlebar-buttonpane>a { float: right; }.ui-dialog .ui-dialog-titlebar-restore { width:20px; height:20px; }</style>').appendTo("body"),_results=[],this.modes)_results.push(this["_initStyles_"+name]());return _results},_initButtons:function(){var mode,name,_ref,_this=this,titlebar=$(this.element[0]).dialog("widget").find(".ui-dialog-titlebar"),buttonPane=$('<div class="ui-dialog-titlebar-buttonpane"></div>').appendTo(titlebar);for(name in buttonPane.css({position:"absolute",top:"50%",right:"0.3em","margin-top":"-10px",height:"18px"}),titlebar.find(".ui-dialog-titlebar-close").css({position:"relative",float:"right",top:"auto",right:"auto",margin:0}).find(".ui-icon").removeClass("ui-icon-closethick").addClass(this.options.icons.close).end().appendTo(buttonPane).end(),buttonPane.append('<a class="ui-button ui-corner-all ui-widget ui-button-icon-only ui-dialog-titlebar-restore" href="#"><span class="ui-button-icon ui-icon '+this.options.icons.restore+'" title="Restore">restore</span></a>').find(".ui-dialog-titlebar-restore").attr("role","button").mouseover(function(){return $(this).addClass("ui-state-hover")}).mouseout(function(){return $(this).removeClass("ui-state-hover")}).on("focus",function(){return $(this).addClass("ui-state-focus")}).on("blur",function(){return $(this).removeClass("ui-state-focus")}).end().find(".ui-dialog-titlebar-close").toggle(this.options.closable).end().find(".ui-dialog-titlebar-restore").hide().on("click",function(e){return e.preventDefault(),_this.restore()}).end(),_ref=this.modes)_ref.hasOwnProperty(name)&&(mode=_ref[name],this._initModuleButton(name,mode));return titlebar.dblclick(function(evt){if(_this.options.dblclick)return"normal"!==_this._state?_this.restore():_this[_this.options.dblclick]()}).select(function(){return!1})},_initModuleButton:function(name,mode){var _this=this,buttonPane=$(this.element[0]).dialog("widget").find(".ui-dialog-titlebar-buttonpane"),capitalizedName=name.charAt(0).toUpperCase()+name.slice(1);return buttonPane.append('<a class="ui-button ui-corner-all ui-widget ui-button-icon-only ui-dialog-titlebar-'+name+' ui-state-default" href="#" title="'+capitalizedName+'"><span class="ui-button-icon ui-icon '+this.options.icons[name]+'">'+name+"</span></a>").find(".ui-dialog-titlebar-"+name).attr("role","button").mouseover(function(){return $(this).addClass("ui-state-hover")}).mouseout(function(){return $(this).removeClass("ui-state-hover")}).on("focus",function(){return $(this).addClass("ui-state-focus")}).on("blur",function(){return $(this).removeClass("ui-state-focus")}).end().find(".ui-dialog-titlebar-"+name).toggle(this.options[mode.option]).on("click",function(e){return e.preventDefault(),_this[name]()}).end()},_initTitleBar:function(){var handle;switch(this.options.titlebar){case!1:return 0;case"none":return $(this.element[0]).dialog("option","draggable")&&(handle=$("<div />").addClass("ui-dialog-draggable-handle").css("cursor","move").height(5),$(this.element[0]).dialog("widget").prepend(handle).draggable("option","handle",handle)),$(this.element[0]).dialog("widget").find(".ui-dialog-titlebar").find(".ui-dialog-title").html("&nbsp;").end().css({"background-color":"transparent","background-image":"none",border:0,position:"absolute",right:0,top:0,"z-index":9999}).end();case"transparent":return $(this.element[0]).dialog("widget").find(".ui-dialog-titlebar").css({"background-color":"transparent","background-image":"none",border:0});default:return $.error("jQuery.dialogExtend Error : Invalid <titlebar> value '"+this.options.titlebar+"'")}},state:function(){return this._state},restore:function(){return this._trigger("beforeRestore"),this._restore(),this._toggleButtons(),this._trigger("restore")},_restore:function(){if("normal"!==this._state)return this["_restore_"+this._state](),this._setState("normal"),$(this.element[0]).dialog("widget").focus()},_saveSnapshot:function(){var bodyElement;if("normal"===this._state)return bodyElement=$("body"),this.original_config_resizable=$(this.element[0]).dialog("option","resizable"),this.original_config_draggable=$(this.element[0]).dialog("option","draggable"),this.original_size_height=$(this.element[0]).dialog("widget").outerHeight(),this.original_size_width=$(this.element[0]).dialog("option","width"),this.original_size_maxHeight=$(this.element[0]).dialog("option","maxHeight"),this.original_position_mode=$(this.element[0]).dialog("widget").css("position"),this.original_position_left=$(this.element[0]).dialog("widget").offset().left-bodyElement.scrollLeft(),this.original_position_top=$(this.element[0]).dialog("widget").offset().top-bodyElement.scrollTop(),this.original_titlebar_wrap=$(this.element[0]).dialog("widget").find(".ui-dialog-titlebar").css("white-space")},_loadSnapshot:function(){return{config:{resizable:this.original_config_resizable,draggable:this.original_config_draggable},size:{height:this.original_size_height,width:this.original_size_width,maxHeight:this.original_size_maxHeight},position:{mode:this.original_position_mode,left:this.original_position_left,top:this.original_position_top},titlebar:{wrap:this.original_titlebar_wrap}}},_toggleButtons:function(newstate){var mode,name,_ref,_ref1,_results,state=newstate||this._state;for(name in $(this.element[0]).dialog("widget").find(".ui-dialog-titlebar-restore").toggle("normal"!==state).css({}).end(),_ref=this.modes)_ref.hasOwnProperty(name)&&(mode=_ref[name],$(this.element[0]).dialog("widget").find(".ui-dialog-titlebar-"+name).toggle(state!==mode.state&&this.options[mode.option]));for(name in _results=[],_ref1=this.modes)_ref1.hasOwnProperty(name)&&((mode=_ref1[name]).state===state?_results.push($(this.element[0]).dialog("widget").find(".ui-dialog-titlebar-restore").insertAfter($(this.element[0]).dialog("widget").find(".ui-dialog-titlebar-"+name)).end()):_results.push(void 0));return _results}})}.call(this),function(){var $=jQuery;$.extend(!0,$.ui.dialogExtend.prototype,{modes:{collapse:{option:"collapsable",state:"collapsed"}},options:{collapsable:!1,icons:{collapse:"ui-icon-triangle-1-s"},beforeCollapse:null,collapse:null},collapse:function(){var pos,newHeight=$(this.element[0]).dialog("widget").find(".ui-dialog-titlebar").height()+15;return this._trigger("beforeCollapse"),"normal"!==this._state&&this._restore(),this._saveSnapshot(),pos=$(this.element[0]).dialog("widget").position(),$(this.element[0]).dialog("option",{resizable:!1,height:newHeight,maxHeight:newHeight,position:[pos.left-$(document).scrollLeft(),pos.top-$(document).scrollTop()]}).on("dialogclose",this._collapse_restore).hide().dialog("widget").find(".ui-dialog-buttonpane:visible").hide().end().find(".ui-dialog-titlebar").css("white-space","nowrap").end().find(".ui-dialog-content"),this._setState("collapsed"),this._toggleButtons(),this._trigger("collapse")},_restore_collapsed:function(){var original=this._loadSnapshot();return $(this.element[0]).show().dialog("widget").find(".ui-dialog-buttonpane:hidden").show().end().find(".ui-dialog-titlebar").css("white-space",original.titlebar.wrap).end().find(".ui-dialog-content").dialog("option",{resizable:original.config.resizable,height:original.size.height,maxHeight:original.size.maxHeight}).off("dialogclose",this._collapse_restore)},_initStyles_collapse:function(){var style;if(!$(".dialog-extend-collapse-css").length)return style="",(style+='<style class="dialog-extend-collapse-css" type="text/css">')+".ui-dialog .ui-dialog-titlebar-collapse {width:20px;height:20px;}"+"</style>",$('<style class="dialog-extend-collapse-css" type="text/css">.ui-dialog .ui-dialog-titlebar-collapse {width:20px;height:20px;}</style>').appendTo("body")},_collapse_restore:function(){}})}.call(this),function(){var $=jQuery;$.extend(!0,$.ui.dialogExtend.prototype,{modes:{maximize:{option:"maximizable",state:"maximized"}},options:{maximizable:!1,icons:{maximize:"ui-icon-extlink"},beforeMaximize:null,maximize:null},maximize:function(){var newHeight=$(window).height()-11,newWidth=$(window).width()-11;return this._trigger("beforeMaximize"),"normal"!==this._state&&this._restore(),this._saveSnapshot(),$(this.element[0]).dialog("option","draggable")&&$(this.element[0]).dialog("widget").draggable("option","handle",null).find(".ui-dialog-draggable-handle").css("cursor","text").end(),$(this.element[0]).dialog("widget").css("position","fixed").find(".ui-dialog-content").show().dialog("widget").find(".ui-dialog-buttonpane").show().end().find(".ui-dialog-content").dialog("option",{resizable:!1,draggable:!1,height:newHeight,width:newWidth,position:{my:"left top",at:"left top",of:window}}),this._setState("maximized"),this._toggleButtons(),this._trigger("maximize")},_restore_maximized:function(){var original=this._loadSnapshot();if($(this.element[0]).dialog("widget").css("position",original.position.mode).find(".ui-dialog-titlebar").css("white-space",original.titlebar.wrap).end().find(".ui-dialog-content").dialog("option",{resizable:original.config.resizable,draggable:original.config.draggable,height:original.size.height,width:original.size.width,maxHeight:original.size.maxHeight,position:{my:"left top",at:"left+"+original.position.left+" top+"+original.position.top,of:window}}),$(this.element[0]).dialog("option","draggable"))return $(this.element[0]).dialog("widget").draggable("option","handle",$(this.element[0]).dialog("widget").find(".ui-dialog-draggable-handle").length?$(this.element[0]).dialog("widget").find(".ui-dialog-draggable-handle"):".ui-dialog-titlebar").find(".ui-dialog-draggable-handle").css("cursor","move")},_initStyles_maximize:function(){var style;if(!$(".dialog-extend-maximize-css").length)return style="",(style+='<style class="dialog-extend-maximize-css" type="text/css">')+".ui-dialog .ui-dialog-titlebar-maximize {width:20px;height:20px;}"+"</style>",$('<style class="dialog-extend-maximize-css" type="text/css">.ui-dialog .ui-dialog-titlebar-maximize {width:20px;height:20px;}</style>').appendTo("body")}})}.call(this),function(){var $=jQuery;$.extend(!0,$.ui.dialogExtend.prototype,{modes:{minimize:{option:"minimizable",state:"minimized"}},options:{minimizable:!1,minimizeLocation:"left",icons:{minimize:"ui-icon-minus"},beforeMinimize:null,minimize:null},minimize:function(){this._trigger("beforeMinimize"),"normal"!==this._state&&this._restore();var fixedContainer,dialogExtendFixedContainer=$("#dialog-extend-fixed-container");return dialogExtendFixedContainer.length?fixedContainer=dialogExtendFixedContainer:(fixedContainer=$('<div id="dialog-extend-fixed-container"></div>').appendTo("body")).css({position:"fixed",bottom:1,left:1,right:1,"z-index":9999}),this._toggleButtons("minimized"),dialogExtendFixedContainer=$(this.element[0]).dialog("widget").clone().children().remove().end(),$(this.element[0]).dialog("widget").find(".ui-dialog-titlebar").clone(!0,!0).appendTo(dialogExtendFixedContainer),dialogExtendFixedContainer.css({float:this.options.minimizeLocation,margin:1}),fixedContainer.append(dialogExtendFixedContainer),$(this.element[0]).data("dialog-extend-minimize-controls",dialogExtendFixedContainer),$(this.element[0]).dialog("option","draggable")&&dialogExtendFixedContainer.removeClass("ui-draggable"),dialogExtendFixedContainer.css({height:"auto",width:200,position:"static"}),$(this.element[0]).on("dialogbeforeclose",this._minimize_restoreOnClose).dialog("widget").hide(),this._setState("minimized"),this._trigger("minimize")},_restore_minimized:function(){return $(this.element[0]).dialog("widget").show(),$(this.element[0]).off("dialogbeforeclose",this._minimize_restoreOnClose),$(this.element[0]).data("dialog-extend-minimize-controls").remove(),$(this.element[0]).removeData("dialog-extend-minimize-controls")},_initStyles_minimize:function(){var style;if(!$(".dialog-extend-minimize-css").length)return style="",(style+='<style class="dialog-extend-minimize-css" type="text/css">')+".ui-dialog .ui-dialog-titlebar-minimize {width:20px;height:20px;}"+"</style>",$('<style class="dialog-extend-minimize-css" type="text/css">.ui-dialog .ui-dialog-titlebar-minimize {width:20px;height:20px;}</style>').appendTo("body")},_verifyOptions_minimize:function(){var _ref;if(!this.options.minimizeLocation||"left"!==(_ref=this.options.minimizeLocation)&&"right"!==_ref)return $.error("jQuery.dialogExtend Error : Invalid <minimizeLocation> value '"+this.options.minimizeLocation+"'"),this.options.minimizeLocation="left"},_minimize_restoreOnClose:function(){}})}.call(this);